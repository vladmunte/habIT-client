<div class="layout-row container">
    {{#unless habitsProps}}
      <span class="no-habits-message">You have no habits to track!</span>
      <span class="add-one-message">Add one!</span>
    {{/unless}}
    {{#each habitsProps as |habit|}}
      {{#paper-card class="card-item" as |card|}}
        {{#paper-tooltip position="bottom"}}
          Click habit for details.
        {{/paper-tooltip}}
        {{#paper-item onClick=(action "showHabitDetailsDialogAction" habit) class="card-item"}}
          {{#card.title as |title|}}
            {{#title.text as |text|}}
              {{#text.headline}}{{habit.title}}{{/text.headline}}
              {{#text.subhead class="text-area-div"}}{{habit.description}}{{/text.subhead}}
            {{/title.text}}
            <div class="progress-div">
              {{paper-progress-circular strokeRatio=0.15 diameter=100 value=habit.habitProgress class="asd"}}
              {{paper-progress-circular strokeRatio=0.02 diameter=100 value=100 class="asdf"}}
              <div class="progress-percent">{{habit.habitProgress}}%</div>
            </div>
            <div class="layout-column three-buttons">
              {{#paper-button  iconButton=true onClick=(action "incrementProgress" habit)}}
                {{paper-icon "check_circle"}}
                {{#paper-tooltip position="right"}}
                  Check
                {{/paper-tooltip}}
              {{/paper-button}}
              {{#paper-button iconButton=true onClick=(action "showEditDialogAction" habit)}}
                {{paper-icon "edit"}}
                {{#paper-tooltip position="right"}}
                  Edit
                {{/paper-tooltip}}
              {{/paper-button}}
              {{#paper-button iconButton=true onClick=(action "showDeleteDialogAction" habit)}}
                {{paper-icon "delete"}}
                {{#paper-tooltip position="right"}}
                  Delete
                {{/paper-tooltip}}
              {{/paper-button}}
              
            </div>
          {{/card.title}}
          {{#card.actions}}
          {{/card.actions}}
        {{/paper-item}}
      {{/paper-card}}
      {{/each}}
      {{#paper-card class="card-item"}}
        {{#paper-item class="card-item card-add-item" onClick=(action "showFormDialogAction")}}
          <span class="card-add-text">+</span>
        {{/paper-item}}
      {{/paper-card}}
</div>

{{#if showFormDialog}}
  {{#paper-dialog class="flex-77" onClose=(action "closeFormDialogAction" "cancel") origin=dialogOrigin clickOutsideToClose=true}}
    {{#paper-toolbar}}
      {{#paper-toolbar-tools}}
        <h2>Add New Habit</h2>
        <span class="flex"></span>
        {{#paper-button iconButton=true onClick=(action "closeFormDialogAction" "cancel")}}{{paper-icon icon="close"}}{{/paper-button}}
      {{/paper-toolbar-tools}}
    {{/paper-toolbar}}

    {{#paper-dialog-content}}
      {{#paper-form class="newHabitForm layout-column  layout-align-space-around-center" as |form|}}
        <div class="layout-row">

          <div class="layout-column flex-50">
            {{form.input label="Title" maxlength=20 value=newHabit.title onChange=(action (mut newHabit.title)) required=true}}
          </div>

          <div class="layout-column flex-50">
            {{paper-input label="Goal Days" type="number" value=newHabit.daysGoal min=1 max=356 onChange=(action (mut newHabit.daysGoal)) required=true}}
            {{!-- {{paper-slider class="flex" min=1 max=356 value=newHabit.daysGoal onChange=(action (mut newHabit.daysGoal))}} --}}
            {{#paper-radio-group
              groupValue=(readonly newHabit.daysGoal)
              onChange=(action (mut newHabit.daysGoal)) as |group|}}
              {{#group.radio value=7}} 1 Week {{/group.radio}}
              {{#group.radio value=30}} 1 Month {{/group.radio}}
              {{#group.radio value=356}} 1 Year {{/group.radio}}
            {{/paper-radio-group}}

          </div>

        </div>
        <div class="layout-row">
          {{paper-input textarea=true block=true class="text-area-div" label="Description" maxlength=150 passThru=(hash rows=5 maxRows=5)
            value=newHabit.description onChange=(action (mut newHabit.description))}}
        </div>
        <div class="layout-row">
          {{#paper-button raised=true primary=true onClick=(action "addHabit")}}Submit{{/paper-button}}
        </div>
      {{/paper-form}}
    {{/paper-dialog-content}}

  {{/paper-dialog}}
{{/if}}

{{#if showEditDialog}}
  {{#paper-dialog class="flex-77" onClose=(action "closeEditDialogAction" "cancel") origin=dialogOrigin clickOutsideToClose=true}}
    {{#paper-toolbar}}
      {{#paper-toolbar-tools}}
        <h2>Edit "{{currentHabit.title}}"</h2>
        <span class="flex"></span>
        {{#paper-button iconButton=true onClick=(action "closeEditDialogAction" "cancel")}}{{paper-icon icon="close"}}{{/paper-button}}
      {{/paper-toolbar-tools}}
    {{/paper-toolbar}}

    {{#paper-dialog-content}}
      {{#paper-form class="newHabitForm layout-column  layout-align-space-around-center" as |form|}}
        <div class="layout-row">

          <div class="layout-column flex-50">
            {{form.input label="Title" value=currentHabit.title onChange=(action (mut currentHabit.title)) required=true}}
          </div>

          <div class="layout-column flex-50">
            {{paper-input label="Goal Days" type="number" value=currentHabit.daysGoal min=1 max=356 onChange=(action (mut currentHabit.daysGoal)) required=true}}
            {{!-- {{paper-slider class="flex" min=1 max=356 value=currentHabit.daysGoal onChange=(action (mut currentHabit.daysGoal))}} --}}
            {{#paper-radio-group
              groupValue=(readonly currentHabit.daysGoal)
              onChange=(action (mut currentHabit.daysGoal)) as |group|}}
              {{#group.radio value=7}} 1 Week {{/group.radio}}
              {{#group.radio value=30}} 1 Month {{/group.radio}}
              {{#group.radio value=356}} 1 Year {{/group.radio}}
            {{/paper-radio-group}}

          </div>

        </div>
        <div class="layout-row">
          {{paper-input textarea=true block=true label="Description" maxlength=150 passThru=(hash rows=5 maxRows=5)
            value=currentHabit.description onChange=(action (mut currentHabit.description))}}
        </div>
        <div class="layout-row">
          {{#paper-button raised=true primary=true onClick=(action "editHabit" "closeEditDialogAction")}}Submit{{/paper-button}}
        </div>
      {{/paper-form}}
    {{/paper-dialog-content}}

  {{/paper-dialog}}
{{/if}}

{{#if showHabitDetailsDialog}}
  {{#paper-dialog class="flex-77" onClose=(action "closeHabitDetailsDialogAction" "cancel") origin=dialogOrigin clickOutsideToClose=true}}
    {{#paper-toolbar}}
      {{#paper-toolbar-tools}}
        <h2>{{currentHabit.title}}</h2>
        <span class="flex"></span>
        {{#paper-button iconButton=true onClick=(action "closeHabitDetailsDialogAction" "cancel")}}{{paper-icon icon="close"}}{{/paper-button}}
      {{/paper-toolbar-tools}}
    {{/paper-toolbar}}

    {{#paper-dialog-content}}
      <div class="details-div">
        <span>Description: {{currentHabit.description}}</span>
        <br>
        <span>Goal Days: {{currentHabit.daysGoal}}</span>
        <br>
        <span>Habit Progress: {{currentHabit.daysChecked}}/{{currentHabit.daysGoal}}</span>
      </div>
    {{/paper-dialog-content}}

  {{/paper-dialog}}
{{/if}}

{{#if showDeleteDialog}}
  {{#paper-dialog class="flex-77" onClose=(action "closeDeleteDialogAction" "cancel") origin=dialogOrigin clickOutsideToClose=true}}

    {{#paper-dialog-content}}
      <span>Are you sure you want to delete "{{currentHabit.title}}"?</span>
      {{#paper-button raised=true primary=true onClick=(action "confirmDelete")}}Yes{{/paper-button}}
      {{#paper-button raised=true primary=true onClick=(action "closeDeleteDialogAction")}}Cancel{{/paper-button}}
    {{/paper-dialog-content}}

  {{/paper-dialog}}
{{/if}}


{{#if showDeletedHabitToast}}
  {{#paper-toast duration=2000 capsule=capsule swipeToClose=swipeToClose onClose=(action "closeToastAction") as |toast|}}
    {{#toast.text}}Habit Deleted!{{/toast.text}}
  {{/paper-toast}}
{{/if}}

{{#if showAddedHabitToast}}
  {{#paper-toast duration=2000 capsule=capsule swipeToClose=swipeToClose onClose=(action "closeToastAction") as |toast|}}
    {{#toast.text}}Habit Added!{{/toast.text}}
  {{/paper-toast}}
{{/if}}

{{#if showEditedHabitToast}}
  {{#paper-toast duration=2000 capsule=capsule swipeToClose=swipeToClose onClose=(action "closeToastAction") as |toast|}}
    {{#toast.text}}Habit Edited!{{/toast.text}}
  {{/paper-toast}}
{{/if}}


{{#if showCheckedToast}}
  {{#paper-toast duration=2000 capsule=capsule swipeToClose=swipeToClose onClose=(action "closeToastAction") as |toast|}}
    {{#toast.text}}Congratulations! Keep it up!{{/toast.text}}
  {{/paper-toast}}
{{/if}}

{{#if showGoalDoneToast}}
  {{#paper-toast duration=2000 capsule=capsule swipeToClose=swipeToClose onClose=(action "closeToastAction") as |toast|}}
    {{#toast.text}}Your goal was accomplished!{{/toast.text}}
  {{/paper-toast}}
{{/if}}

